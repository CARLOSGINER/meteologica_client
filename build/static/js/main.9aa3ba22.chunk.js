(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(5),r=c.n(n),o=c(21),i=c.n(o),s=(c(32),c(14)),a=(c(33),c(27)),l=c(25),j=c.n(l),d=c(26),u=c.n(d),b=c(0),p=u()(j.a),m="#111d2b";var f=function(e){var t=e.getLastTemp,c=e.getLastPower,r=Object(n.useState)([]),o=Object(s.a)(r,2),i=o[0],l=o[1],j=Object(n.useState)([]),d=Object(s.a)(j,2),u=d[0],f=d[1],h=Object(n.useState)(!1),O=Object(s.a)(h,2),x=O[0],g=O[1];Object(n.useEffect)((function(){var e=Object(a.a)("https://meteologica-app-server.herokuapp.com");e.on("FromAPI",(function(e){l(e.updatedTemperatures),f(e.updatedPowers),g(!0)})),e.on("disconnect",(function(){g(!1)}))}),[]);var v=function(e){return[e.map((function(e){return e.time})),e.map((function(e){return e.value}))]},w=function(e){return e.map((function(e){return e-273.15}))},y=function(e){return e.map((function(e){return 1e3*e}))},k=w(v(i)[1]),N=y(v(u)[1]),T="undefined"===typeof k[k.length-1]?0:k[k.length-1],P="undefined"===typeof N[N.length-1]?0:N[N.length-1];return t(T.toFixed(2)),c(P.toFixed(2)),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:x?"loader active":"loader",children:x?Object(b.jsx)("p",{children:"Connected! receiving data"}):Object(b.jsx)("p",{children:"Disconnected..."})}),Object(b.jsxs)("div",{className:"charts",children:[Object(b.jsx)(p,{data:[{type:"scatter",mode:"lines",x:v(i)[0],y:w(v(i)[1])}],layout:{title:"Temperature",font:{color:"rgb(179, 179, 179)"},xaxis:{title:"Time",titlefont:{color:"white"},tickfont:{color:"white"},tickmode:"linear",dtick:12,tickformat:"%M"},yaxis:{title:"Temp (C\xb0)",titlefont:{color:"white"},tickfont:{color:"white"}},paper_bgcolor:m,plot_bgcolor:m}}),Object(b.jsx)(p,{data:[{type:"scatter",mode:"lines",x:v(u)[0],y:y(v(u)[1])}],layout:{title:"Power",font:{color:"rgb(179, 179, 179)"},xaxis:{title:"Time",titlefont:{color:"white"},tickfont:{color:"white"},tickmode:"linear",dtick:12,tickformat:"%M"},yaxis:{title:"Power (KW)",titlefont:{color:"white"},tickfont:{color:"white"}},paper_bgcolor:m,plot_bgcolor:m}})]})]})};function h(e){var t=e.lastTemp,c=e.lastPower;return Object(b.jsxs)("div",{className:"widget",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"subtitle",children:"Last Temperature"}),Object(b.jsxs)("p",{className:"number",children:[t," \xb0C"]})]}),Object(b.jsx)("div",{className:"divider",children:"|"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"subtitle",children:"Last Power"}),Object(b.jsxs)("p",{className:"number",children:[c," KW"]})]})]})}function O(e){var t=e.lastTemp,c=e.lastPower;return Object(b.jsxs)("nav",{className:"header",children:[Object(b.jsx)("img",{className:"logo_img",src:"/assets/meteologica_logo.jpg",alt:"logo"}),Object(b.jsx)(h,{lastTemp:t,lastPower:c})]})}function x(){return Object(b.jsx)("footer",{children:Object(b.jsx)("p",{className:"copyright",children:"Develope by Carlos Giner \xa9 copyright 2021"})})}var g=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],r=t[1],o=Object(n.useState)(!1),i=Object(s.a)(o,2),a=i[0],l=i[1];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(O,{lastTemp:c,lastPower:a}),Object(b.jsx)(f,{getLastTemp:function(e){r(e)},getLastPower:function(e){l(e)}}),Object(b.jsx)(x,{})]})};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.9aa3ba22.chunk.js.map